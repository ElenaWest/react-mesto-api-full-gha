{"ast":null,"code":"import _defineProperty from\"C:/Users/helen/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/helen/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/helen/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useState}from\"react\";function useFormValidation(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isValid=_useState6[0],setIsValid=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),isInputValid=_useState8[0],setIsInputValid=_useState8[1];function handleChange(e){var name=e.target.name;var value=e.target.value;var validationMessage=e.target.validationMessage;var valid=e.target.validity.valid;var form=e.target.form;setValues(function(oldValues){return _objectSpread(_objectSpread({},oldValues),{},_defineProperty({},name,value));});setErrors(function(oldErrors){return _objectSpread(_objectSpread({},oldErrors),{},_defineProperty({},name,validationMessage));});setIsInputValid(function(oldIsInputValid){return _objectSpread(_objectSpread({},oldIsInputValid),{},_defineProperty({},name,valid));});setIsValid(form.checkValidity());}function reset(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};setValues(data);setErrors({});setIsValid(false);setIsInputValid({});}var setValue=useCallback(function(name,value){setValues(function(oldValues){return _objectSpread(_objectSpread({},oldValues),{},_defineProperty({},name,value));});},[]);return{values:values,errors:errors,isValid:isValid,isInputValid:isInputValid,handleChange:handleChange,reset:reset,setValue:setValue};}export default useFormValidation;","map":{"version":3,"names":["useCallback","useState","useFormValidation","_useState","_useState2","_slicedToArray","values","setValues","_useState3","_useState4","errors","setErrors","_useState5","_useState6","isValid","setIsValid","_useState7","_useState8","isInputValid","setIsInputValid","handleChange","e","name","target","value","validationMessage","valid","validity","form","oldValues","_objectSpread","_defineProperty","oldErrors","oldIsInputValid","checkValidity","reset","data","arguments","length","undefined","setValue"],"sources":["C:/Users/helen/dev/react-mesto-auth/src/utils/hooks/useFormValidation.js"],"sourcesContent":["import { useCallback, useState } from \"react\"\r\n\r\nfunction useFormValidation() {\r\n    const [values, setValues] = useState({})\r\n    const [errors, setErrors] = useState({})\r\n    const [isValid, setIsValid] = useState(false)\r\n    const [isInputValid, setIsInputValid] = useState({})\r\n\r\n    function handleChange(e) {\r\n        const name = e.target.name\r\n        const value = e.target.value\r\n        const validationMessage = e.target.validationMessage\r\n        const valid = e.target.validity.valid\r\n        const form = e.target.form\r\n\r\n        setValues((oldValues) => {\r\n            return { ...oldValues, [name]: value }\r\n        })\r\n\r\n        setErrors((oldErrors) => {\r\n            return { ...oldErrors, [name]: validationMessage }\r\n        })\r\n\r\n        setIsInputValid((oldIsInputValid) => {\r\n            return { ...oldIsInputValid, [name]: valid }\r\n        })        \r\n\r\n        setIsValid(form.checkValidity())\r\n    }\r\n\r\n    function reset(data={}) {\r\n        setValues(data)\r\n        setErrors({})\r\n        setIsValid(false)\r\n        setIsInputValid({})\r\n    }\r\n\r\n    const setValue = useCallback((name, value) => {\r\n        setValues((oldValues) => {\r\n            return { ...oldValues, [name]: value }\r\n        })\r\n    }, [])\r\n\r\n    return { values, errors, isValid, isInputValid, handleChange, reset, setValue }\r\n}\r\n\r\nexport default useFormValidation"],"mappings":"4WAAA,OAASA,WAAW,CAAEC,QAAQ,KAAQ,OAAO,CAE7C,QAAS,CAAAC,iBAAiBA,CAAA,CAAG,CACzB,IAAAC,SAAA,CAA4BF,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAG,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA4BP,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAQ,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAA8BX,QAAQ,CAAC,KAAK,CAAC,CAAAY,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAtCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1B,IAAAG,UAAA,CAAwCf,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAgB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA7CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IAEpC,QAAS,CAAAG,YAAYA,CAACC,CAAC,CAAE,CACrB,GAAM,CAAAC,IAAI,CAAGD,CAAC,CAACE,MAAM,CAACD,IAAI,CAC1B,GAAM,CAAAE,KAAK,CAAGH,CAAC,CAACE,MAAM,CAACC,KAAK,CAC5B,GAAM,CAAAC,iBAAiB,CAAGJ,CAAC,CAACE,MAAM,CAACE,iBAAiB,CACpD,GAAM,CAAAC,KAAK,CAAGL,CAAC,CAACE,MAAM,CAACI,QAAQ,CAACD,KAAK,CACrC,GAAM,CAAAE,IAAI,CAAGP,CAAC,CAACE,MAAM,CAACK,IAAI,CAE1BrB,SAAS,CAAC,SAACsB,SAAS,CAAK,CACrB,OAAAC,aAAA,CAAAA,aAAA,IAAYD,SAAS,KAAAE,eAAA,IAAGT,IAAI,CAAGE,KAAK,GACxC,CAAC,CAAC,CAEFb,SAAS,CAAC,SAACqB,SAAS,CAAK,CACrB,OAAAF,aAAA,CAAAA,aAAA,IAAYE,SAAS,KAAAD,eAAA,IAAGT,IAAI,CAAGG,iBAAiB,GACpD,CAAC,CAAC,CAEFN,eAAe,CAAC,SAACc,eAAe,CAAK,CACjC,OAAAH,aAAA,CAAAA,aAAA,IAAYG,eAAe,KAAAF,eAAA,IAAGT,IAAI,CAAGI,KAAK,GAC9C,CAAC,CAAC,CAEFX,UAAU,CAACa,IAAI,CAACM,aAAa,CAAC,CAAC,CAAC,CACpC,CAEA,QAAS,CAAAC,KAAKA,CAAA,CAAU,IAAT,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAC,CAAC,CAAC,CAClB9B,SAAS,CAAC6B,IAAI,CAAC,CACfzB,SAAS,CAAC,CAAC,CAAC,CAAC,CACbI,UAAU,CAAC,KAAK,CAAC,CACjBI,eAAe,CAAC,CAAC,CAAC,CAAC,CACvB,CAEA,GAAM,CAAAqB,QAAQ,CAAGxC,WAAW,CAAC,SAACsB,IAAI,CAAEE,KAAK,CAAK,CAC1CjB,SAAS,CAAC,SAACsB,SAAS,CAAK,CACrB,OAAAC,aAAA,CAAAA,aAAA,IAAYD,SAAS,KAAAE,eAAA,IAAGT,IAAI,CAAGE,KAAK,GACxC,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAElB,MAAM,CAANA,MAAM,CAAEI,MAAM,CAANA,MAAM,CAAEI,OAAO,CAAPA,OAAO,CAAEI,YAAY,CAAZA,YAAY,CAAEE,YAAY,CAAZA,YAAY,CAAEe,KAAK,CAALA,KAAK,CAAEK,QAAQ,CAARA,QAAS,CAAC,CACnF,CAEA,cAAe,CAAAtC,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}