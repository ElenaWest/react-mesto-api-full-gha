{"ast":null,"code":"import{useContext,useEffect}from\"react\";import useFormValidation from\"../utils/hooks/useFormValidation\";import PopupWithForm from\"./PopupWithForm\";import CurrentUserContext from\"../contexts/CurrentUserContext\";import Input from\"./Input\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,isSend=_ref.isSend;var currentUser=useContext(CurrentUserContext);var _useFormValidation=useFormValidation(),values=_useFormValidation.values,errors=_useFormValidation.errors,isValid=_useFormValidation.isValid,isInputValid=_useFormValidation.isInputValid,handleChange=_useFormValidation.handleChange,reset=_useFormValidation.reset,setValue=_useFormValidation.setValue;useEffect(function(){setValue(\"username\",currentUser.name);setValue(\"status\",currentUser.about);},[currentUser,setValue]);function resetForClose(){onClose();reset({username:currentUser.name,status:currentUser.about});}function handleSubmit(e){e.preventDefault();onUpdateUser({username:values.username,status:values.status},reset);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:isOpen,onClose:resetForClose,isValid:isValid,isSend:isSend,onYesButton:handleSubmit,children:[/*#__PURE__*/_jsx(Input,{name:\"username\",type:\"text\",placeholder:\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",value:values.username?values.username:'',onChange:handleChange,isInputValid:isInputValid.username,error:errors.username,minLength:2,maxLength:40,disabled:isSend,required:true}),/*#__PURE__*/_jsx(Input,{name:\"status\",type:\"text\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",value:values.status?values.status:'',onChange:handleChange,isInputValid:isInputValid.status,error:errors.status,minLength:2,maxLength:200,disabled:isSend,required:true})]});}export default EditProfilePopup;","map":{"version":3,"names":["useContext","useEffect","useFormValidation","PopupWithForm","CurrentUserContext","Input","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","isSend","currentUser","_useFormValidation","values","errors","isValid","isInputValid","handleChange","reset","setValue","name","about","resetForClose","username","status","handleSubmit","e","preventDefault","title","onYesButton","children","type","placeholder","value","onChange","error","minLength","maxLength","disabled","required"],"sources":["C:/Users/helen/dev/react-mesto-auth/src/components/EditProfilePopup.jsx"],"sourcesContent":["import { useContext, useEffect } from \"react\"\r\nimport useFormValidation from \"../utils/hooks/useFormValidation\"\r\nimport PopupWithForm from \"./PopupWithForm\"\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\"\r\nimport Input from \"./Input\"\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isSend }) {\r\n    const currentUser = useContext(CurrentUserContext)\r\n    const { values, errors, isValid, isInputValid, handleChange, reset, setValue } = useFormValidation()\r\n\r\n    useEffect(() => {\r\n        setValue(\"username\", currentUser.name)\r\n        setValue(\"status\", currentUser.about)\r\n    },[currentUser, setValue])\r\n    \r\n    function resetForClose() {\r\n        onClose()\r\n        reset({ username: currentUser.name, status: currentUser.about })\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        onUpdateUser({ username: values.username, status: values.status }, reset)\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm\r\n            name='profile'\r\n            title='Редактировать профиль'\r\n            isOpen = {isOpen}\r\n            onClose = {resetForClose}\r\n            isValid = {isValid}\r\n            isSend={isSend}\r\n            onYesButton={handleSubmit}\r\n        >\r\n            <Input\r\n            name=\"username\"\r\n            type=\"text\"\r\n            placeholder=\"Имя пользователя\"\r\n            value={values.username ? values.username : ''}\r\n            onChange={handleChange}\r\n            isInputValid={isInputValid.username}\r\n            error={errors.username}\r\n            minLength={2}\r\n            maxLength={40}\r\n            disabled={isSend}\r\n            required\r\n             />\r\n\r\n            <Input\r\n            name=\"status\"\r\n            type=\"text\"\r\n            placeholder=\"О себе\"\r\n            value={values.status ? values.status : ''}\r\n            onChange={handleChange}\r\n            isInputValid={isInputValid.status}\r\n            error={errors.status}\r\n            minLength={2}\r\n            maxLength={200}\r\n            disabled={isSend}\r\n            required\r\n             />\r\n\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}