{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\helen\\\\dev\\\\react-mesto-api-full-gha\\\\frontend\\\\src\\\\components\\\\EditProfilePopup.jsx\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect } from \"react\";\nimport useFormValidation from \"../utils/hooks/useFormValidation\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport Input from \"./Input\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditProfilePopup(_ref) {\n  _s();\n  let {\n    isOpen,\n    onClose,\n    onUpdateUser,\n    isSend\n  } = _ref;\n  const currentUser = useContext(CurrentUserContext);\n  const {\n    values,\n    errors,\n    isValid,\n    isInputValid,\n    handleChange,\n    reset,\n    setValue\n  } = useFormValidation();\n  useEffect(() => {\n    setValue(\"username\", currentUser.name);\n    setValue(\"status\", currentUser.about);\n  }, [currentUser, setValue]);\n  function resetForClose() {\n    onClose();\n    reset({\n      username: currentUser.name,\n      status: currentUser.about\n    });\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      username: values.username,\n      status: values.status\n    }, reset);\n  }\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    name: \"profile\",\n    title: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n    isOpen: isOpen,\n    onClose: resetForClose,\n    isValid: isValid,\n    isSend: isSend,\n    onYesButton: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      name: \"username\",\n      type: \"text\",\n      placeholder: \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",\n      value: values.username ? values.username : '',\n      onChange: handleChange,\n      isInputValid: isInputValid.username,\n      error: errors.username,\n      minLength: 2,\n      maxLength: 40,\n      disabled: isSend,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      name: \"status\",\n      type: \"text\",\n      placeholder: \"\\u041E \\u0441\\u0435\\u0431\\u0435\",\n      value: values.status ? values.status : '',\n      onChange: handleChange,\n      isInputValid: isInputValid.status,\n      error: errors.status,\n      minLength: 2,\n      maxLength: 200,\n      disabled: isSend,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n}\n_s(EditProfilePopup, \"54tzw819/HBqVHcdpEGa0gopHxQ=\", false, function () {\n  return [useFormValidation];\n});\n_c = EditProfilePopup;\nexport default EditProfilePopup;\nvar _c;\n$RefreshReg$(_c, \"EditProfilePopup\");","map":{"version":3,"names":["useContext","useEffect","useFormValidation","PopupWithForm","CurrentUserContext","Input","jsxDEV","_jsxDEV","EditProfilePopup","_ref","_s","isOpen","onClose","onUpdateUser","isSend","currentUser","values","errors","isValid","isInputValid","handleChange","reset","setValue","name","about","resetForClose","username","status","handleSubmit","e","preventDefault","title","onYesButton","children","type","placeholder","value","onChange","error","minLength","maxLength","disabled","required","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/helen/dev/react-mesto-api-full-gha/frontend/src/components/EditProfilePopup.jsx"],"sourcesContent":["import { useContext, useEffect } from \"react\"\r\nimport useFormValidation from \"../utils/hooks/useFormValidation\"\r\nimport PopupWithForm from \"./PopupWithForm\"\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\"\r\nimport Input from \"./Input\"\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isSend }) {\r\n    const currentUser = useContext(CurrentUserContext)\r\n    const { values, errors, isValid, isInputValid, handleChange, reset, setValue } = useFormValidation()\r\n\r\n    useEffect(() => {\r\n        setValue(\"username\", currentUser.name)\r\n        setValue(\"status\", currentUser.about)\r\n    },[currentUser, setValue])\r\n    \r\n    function resetForClose() {\r\n        onClose()\r\n        reset({ username: currentUser.name, status: currentUser.about })\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        onUpdateUser({ username: values.username, status: values.status }, reset)\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm\r\n            name='profile'\r\n            title='Редактировать профиль'\r\n            isOpen = {isOpen}\r\n            onClose = {resetForClose}\r\n            isValid = {isValid}\r\n            isSend={isSend}\r\n            onYesButton={handleSubmit}\r\n        >\r\n            <Input\r\n            name=\"username\"\r\n            type=\"text\"\r\n            placeholder=\"Имя пользователя\"\r\n            value={values.username ? values.username : ''}\r\n            onChange={handleChange}\r\n            isInputValid={isInputValid.username}\r\n            error={errors.username}\r\n            minLength={2}\r\n            maxLength={40}\r\n            disabled={isSend}\r\n            required\r\n             />\r\n\r\n            <Input\r\n            name=\"status\"\r\n            type=\"text\"\r\n            placeholder=\"О себе\"\r\n            value={values.status ? values.status : ''}\r\n            onChange={handleChange}\r\n            isInputValid={isInputValid.status}\r\n            error={errors.status}\r\n            minLength={2}\r\n            maxLength={200}\r\n            disabled={isSend}\r\n            required\r\n             />\r\n\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}