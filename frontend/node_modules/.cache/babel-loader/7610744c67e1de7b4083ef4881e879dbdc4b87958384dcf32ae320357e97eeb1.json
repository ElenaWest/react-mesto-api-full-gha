{"ast":null,"code":"import _classCallCheck from\"C:/Users/helen/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/helen/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(parameter){_classCallCheck(this,Api);this._url=parameter.baseUrl;this._headers=parameter.headers;this._authorization=parameter.headers.authorization;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){return res.ok?res.json():Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0441\\u0435\\u0440\\u0432\\u0435\\u0440\\u0430 \".concat(res.status));}},{key:\"_request\",value:function _request(url,options){return fetch(\"\".concat(this._url).concat(url),options).then(this._checkResponse);}},{key:\"getInfo\",value:function getInfo(){return this._request(\"/users/me\",{headers:{authorization:this._authorization}});}},{key:\"getCards\",value:function getCards(){return this._request(\"/cards\",{headers:{authorization:this._authorization}});}},{key:\"setUserInfo\",value:function setUserInfo(data){return this._request(\"/users/me\",{method:'PATCH',headers:this._headers,body:JSON.stringify({name:data.username,about:data.status})});}},{key:\"setNewAvatar\",value:function setNewAvatar(data){return this._request(\"/users/me/avatar\",{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:data.avatar})});}},{key:\"addCard\",value:function addCard(data){return this._request(\"/cards\",{method:'POST',headers:this._headers,body:JSON.stringify({name:data.title,link:data.link})});}},{key:\"addLike\",value:function addLike(cardId){return this._request(\"/cards/\".concat(cardId,\"/likes\"),{method:'PUT',headers:{authorization:this._authorization}});}},{key:\"deleteLike\",value:function deleteLike(cardId){return this._request(\"/cards/\".concat(cardId,\"/likes\"),{method:'DELETE',headers:{authorization:this._authorization}});}},{key:\"deleteCard\",value:function deleteCard(cardId){return this._request(\"/cards/\".concat(cardId),{method:'DELETE',headers:{authorization:this._authorization}});}}]);return Api;}();var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-66',headers:{authorization:'0c26d4a4-f51e-405b-92e1-f55fac7bf350','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["Api","parameter","_classCallCheck","_url","baseUrl","_headers","headers","_authorization","authorization","_createClass","key","value","_checkResponse","res","ok","json","Promise","reject","concat","status","_request","url","options","fetch","then","getInfo","getCards","setUserInfo","data","method","body","JSON","stringify","name","username","about","setNewAvatar","avatar","addCard","title","link","addLike","cardId","deleteLike","deleteCard","api"],"sources":["C:/Users/helen/dev/react-mesto-auth/src/utils/api.js"],"sourcesContent":["class Api {\r\n    constructor(parameter) {\r\n        this._url = parameter.baseUrl;\r\n        this._headers = parameter.headers;\r\n        this._authorization = parameter.headers.authorization;\r\n    }\r\n\r\n    _checkResponse(res) {        \r\n    return res.ok ? res.json() : Promise.reject(`Ошибка сервера ${res.status}`);\r\n    }\r\n\r\n    _request(url, options) {\r\n        return fetch(`${this._url}${url}`, options)\r\n        .then(this._checkResponse)\r\n      }\r\n\r\n    getInfo() {\r\n        return this._request(`/users/me`, {\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n    }\r\n\r\n    getCards() {\r\n        return this._request(`/cards`, {\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n    }\r\n\r\n    setUserInfo(data) {\r\n        return this._request(`/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.username,\r\n                about: data.status,\r\n            })\r\n        })\r\n    }\r\n\r\n    setNewAvatar(data) {\r\n        return this._request(`/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar,\r\n            })\r\n        })\r\n    }\r\n    \r\n    addCard(data) {\r\n        return this._request(`/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.title,\r\n                link: data.link,\r\n        })\r\n      })\r\n    }\r\n\r\n    addLike(cardId) {\r\n        return this._request(`/cards/${cardId}/likes`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteLike(cardId) {\r\n        return this._request(`/cards/${cardId}/likes`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return this._request(`/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._authorization\r\n            } \r\n        })\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-66',\r\n    headers: {\r\n      authorization: '0c26d4a4-f51e-405b-92e1-f55fac7bf350',\r\n      'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}